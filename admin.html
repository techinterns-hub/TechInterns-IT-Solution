<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - TechInterns</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/admin-styles.css" rel="stylesheet">
</head>
<body>
    <script>
        // Check if user is logged in
        if (!sessionStorage.getItem('adminLoggedIn')) {
            window.location.href = 'admin-login.html';
        }
    </script>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 col-lg-2 admin-sidebar p-0">
                <div class="p-4">
                    <div class="admin-panel-header">
                        <h4><i class="fas fa-shield-alt me-2"></i>Admin Panel</h4>
                    </div>
                    <nav class="nav flex-column">
                        <a class="nav-link admin-nav-link active" href="#" onclick="showSection('dashboard')">
                            <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                        </a>
                        <a class="nav-link admin-nav-link" href="#" onclick="showSection('courses')">
                            <i class="fas fa-book me-2"></i>Manage Courses
                        </a>
                        <a class="nav-link admin-nav-link" href="#" onclick="showSection('pricing')">
                            <i class="fas fa-dollar-sign me-2"></i>Pricing
                        </a>
                        <a class="nav-link admin-nav-link" href="#" onclick="showSection('internships')">
                            <i class="fas fa-briefcase me-2"></i>Internships
                        </a>
                        <a class="nav-link admin-nav-link" href="index.html">
                            <i class="fas fa-home me-2"></i>Back to Site
                        </a>
                        <a class="nav-link admin-nav-link" href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt me-2"></i>Logout
                        </a>
                    </nav>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 col-lg-10 admin-content p-4">
                <!-- Dashboard Section -->
                <div id="dashboard" class="admin-section">
                    <h2 class="mb-4">Dashboard</h2>
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <div class="dashboard-stat-card">
                                <i class="fas fa-graduation-cap fa-2x text-primary mb-3"></i>
                                <h5 class="mb-2">Total Courses</h5>
                                <h3 id="totalCourses" class="mb-0">6</h3>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="dashboard-stat-card">
                                <i class="fas fa-users fa-2x text-success mb-3"></i>
                                <h5 class="mb-2">Enrollments</h5>
                                <h3 id="totalEnrollments" class="mb-0">0</h3>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="dashboard-stat-card">
                                <i class="fas fa-chart-line fa-2x text-warning mb-3"></i>
                                <h5 class="mb-2">Revenue</h5>
                                <h3 id="totalRevenue" class="mb-0">$0</h3>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Courses Management Section -->
                <div id="courses" class="admin-section admin-section-hidden">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2><i class="fas fa-book me-2"></i>Manage Courses</h2>
                        <button class="btn btn-primary" onclick="showAddCourseModal()">
                            <i class="fas fa-plus me-2"></i>Add New Course
                        </button>
                    </div>
                    <div class="admin-card p-4">
                        <div id="coursesList"></div>
                    </div>
                </div>

                <!-- Pricing Section -->
                <div id="pricing" class="admin-section admin-section-hidden">
                    <h2 class="mb-4"><i class="fas fa-tags me-2"></i>Pricing Management</h2>
                    <div class="admin-card p-4">
                        <div id="pricingList"></div>
                    </div>
                </div>

                <!-- Internships Section -->
                <div id="internships" class="admin-section admin-section-hidden">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2><i class="fas fa-briefcase me-2"></i>Manage Internships</h2>
                        <button class="btn btn-primary" onclick="showAddInternshipModal()">
                            <i class="fas fa-plus me-2"></i>Add New Internship
                        </button>
                    </div>
                    <div class="admin-card p-4">
                        <div id="internshipsList"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Course Modal -->
    <div class="modal fade" id="addCourseModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Course</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="courseForm">
                        <div class="mb-3">
                            <label class="form-label" for="courseTitle">Course Title</label>
                            <input type="text" class="form-control" id="courseTitle" placeholder="Enter course title" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="courseCategory">Category</label>
                            <select class="form-select" id="courseCategory" title="Select course category" required>
                                <option value="Development">Development</option>
                                <option value="Design">Design</option>
                                <option value="Data Science">Data Science</option>
                                <option value="Mobile">Mobile</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="courseDescription">Description</label>
                            <textarea class="form-control" id="courseDescription" rows="3" placeholder="Enter course description" required></textarea>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="courseDuration">Duration</label>
                                <input type="text" class="form-control" id="courseDuration" placeholder="e.g., 8 weeks" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="courseLevel">Level</label>
                                <select class="form-select" id="courseLevel" title="Select course level" required>
                                    <option value="Beginner">Beginner</option>
                                    <option value="Intermediate">Intermediate</option>
                                    <option value="Advanced">Advanced</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="coursePrice">Price</label>
                            <input type="text" class="form-control" id="coursePrice" placeholder="e.g., Free or $99" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="addCourse()">Add Course</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Internship Modal -->
    <div class="modal fade" id="addInternshipModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Internship</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="internshipForm">
                        <div class="mb-3">
                            <label class="form-label" for="internshipTitle">Internship Title</label>
                            <input type="text" class="form-control" id="internshipTitle" placeholder="Enter internship title" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="internshipDescription">Description</label>
                            <textarea class="form-control" id="internshipDescription" rows="3" placeholder="Enter internship description" required></textarea>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="internshipDuration">Duration</label>
                                <input type="text" class="form-control" id="internshipDuration" placeholder="e.g., 1 months" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="internshipType">Type</label>
                                <select class="form-select" id="internshipType" title="Select internship type" required>
                                    <option value="Remote">Remote</option>
                                    <option value="On-site">On-site</option>
                                    <option value="Hybrid">Hybrid</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="internshipSpots">Available Spots</label>
                            <input type="number" class="form-control" id="internshipSpots" placeholder="e.g., 15" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="addInternship()">Add Internship</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/cache-buster.js"></script>
    <script src="js/data-sync.js"></script>
    <script src="js/data.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>